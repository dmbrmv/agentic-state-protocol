{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "name": "linters",
  "description": "MCP configuration for linter and formatter integrations",
  "version": "1.0.0",

  "servers": {
    "ruff": {
      "language": "python",
      "type": "linter-formatter",
      "command": "ruff",
      "detection": [
        "ruff.toml",
        "pyproject.toml:[tool.ruff]",
        ".ruff.toml"
      ],
      "capabilities": {
        "check": "ruff check {scope}",
        "checkFix": "ruff check --fix {scope}",
        "format": "ruff format {scope}",
        "formatCheck": "ruff format --check {scope}",
        "formatDiff": "ruff format --diff {scope}"
      },
      "severityMapping": {
        "E": "error",
        "W": "warning",
        "F": "error",
        "I": "info",
        "N": "convention",
        "D": "info"
      },
      "autoFix": true,
      "defaultArgs": []
    },

    "pylint": {
      "language": "python",
      "type": "linter",
      "command": "pylint",
      "detection": [
        ".pylintrc",
        "pyproject.toml:[tool.pylint]",
        "setup.cfg:[pylint]"
      ],
      "capabilities": {
        "check": "pylint {scope}",
        "checkJson": "pylint --output-format=json {scope}"
      },
      "severityMapping": {
        "E": "error",
        "W": "warning",
        "C": "convention",
        "R": "refactor",
        "F": "fatal"
      },
      "autoFix": false,
      "defaultArgs": []
    },

    "mypy": {
      "language": "python",
      "type": "type-checker",
      "command": "mypy",
      "detection": [
        "mypy.ini",
        "pyproject.toml:[tool.mypy]",
        ".mypy.ini"
      ],
      "capabilities": {
        "check": "mypy {scope}",
        "checkStrict": "mypy --strict {scope}"
      },
      "severityMapping": {
        "error": "error",
        "warning": "warning",
        "note": "info"
      },
      "autoFix": false,
      "defaultArgs": []
    },

    "pyright": {
      "language": "python",
      "type": "type-checker",
      "command": "pyright",
      "detection": [
        "pyrightconfig.json",
        "pyproject.toml:[tool.pyright]"
      ],
      "capabilities": {
        "check": "pyright {scope}",
        "checkJson": "pyright --outputjson {scope}"
      },
      "severityMapping": {
        "error": "error",
        "warning": "warning",
        "information": "info"
      },
      "autoFix": false,
      "defaultArgs": []
    },

    "eslint": {
      "language": "javascript",
      "type": "linter",
      "command": "npx eslint",
      "detection": [
        ".eslintrc",
        ".eslintrc.js",
        ".eslintrc.json",
        ".eslintrc.yml",
        "eslint.config.js",
        "eslint.config.mjs",
        "package.json:eslintConfig"
      ],
      "capabilities": {
        "check": "npx eslint {scope}",
        "checkFix": "npx eslint --fix {scope}",
        "checkJson": "npx eslint --format json {scope}"
      },
      "severityMapping": {
        "error": "error",
        "warning": "warning"
      },
      "autoFix": true,
      "defaultArgs": []
    },

    "prettier": {
      "language": "javascript",
      "type": "formatter",
      "command": "npx prettier",
      "detection": [
        ".prettierrc",
        ".prettierrc.js",
        ".prettierrc.json",
        "prettier.config.js",
        "package.json:prettier"
      ],
      "capabilities": {
        "check": "npx prettier --check {scope}",
        "format": "npx prettier --write {scope}",
        "formatDiff": "npx prettier --check {scope} 2>&1"
      },
      "severityMapping": {},
      "autoFix": true,
      "defaultArgs": []
    },

    "tsc": {
      "language": "typescript",
      "type": "type-checker",
      "command": "npx tsc",
      "detection": [
        "tsconfig.json"
      ],
      "capabilities": {
        "check": "npx tsc --noEmit",
        "checkWatch": "npx tsc --noEmit --watch"
      },
      "severityMapping": {
        "error": "error"
      },
      "autoFix": false,
      "defaultArgs": ["--noEmit"]
    },

    "clippy": {
      "language": "rust",
      "type": "linter",
      "command": "cargo clippy",
      "detection": ["Cargo.toml"],
      "capabilities": {
        "check": "cargo clippy -- -D warnings",
        "checkFix": "cargo clippy --fix --allow-dirty -- -D warnings",
        "checkAll": "cargo clippy --all-targets --all-features -- -D warnings"
      },
      "severityMapping": {
        "error": "error",
        "warning": "warning",
        "note": "info"
      },
      "autoFix": true,
      "defaultArgs": ["--", "-D", "warnings"]
    },

    "rustfmt": {
      "language": "rust",
      "type": "formatter",
      "command": "cargo fmt",
      "detection": ["Cargo.toml", "rustfmt.toml", ".rustfmt.toml"],
      "capabilities": {
        "check": "cargo fmt -- --check",
        "format": "cargo fmt"
      },
      "severityMapping": {},
      "autoFix": true,
      "defaultArgs": []
    },

    "golangci-lint": {
      "language": "go",
      "type": "linter",
      "command": "golangci-lint",
      "detection": [
        ".golangci.yml",
        ".golangci.yaml",
        ".golangci.toml",
        ".golangci.json",
        "go.mod"
      ],
      "capabilities": {
        "check": "golangci-lint run {scope}",
        "checkFix": "golangci-lint run --fix {scope}",
        "checkJson": "golangci-lint run --out-format json {scope}"
      },
      "severityMapping": {
        "error": "error",
        "warning": "warning"
      },
      "autoFix": true,
      "defaultArgs": []
    },

    "gofmt": {
      "language": "go",
      "type": "formatter",
      "command": "gofmt",
      "detection": ["go.mod"],
      "capabilities": {
        "check": "gofmt -l {scope}",
        "format": "gofmt -w {scope}",
        "formatDiff": "gofmt -d {scope}"
      },
      "severityMapping": {},
      "autoFix": true,
      "defaultArgs": []
    }
  },

  "autoDetection": {
    "enabled": true,
    "priority": {
      "python": ["ruff", "mypy", "pylint", "pyright"],
      "javascript": ["eslint", "prettier", "tsc"],
      "typescript": ["eslint", "prettier", "tsc"],
      "rust": ["clippy", "rustfmt"],
      "go": ["golangci-lint", "gofmt"]
    }
  },

  "preCommitIntegration": {
    "checkBeforeCommit": true,
    "autoFixOnCommit": false,
    "blockOnError": true,
    "allowWarnings": true
  },

  "globalSettings": {
    "defaultTimeout": 120,
    "cacheResults": true,
    "parallelExecution": true
  }
}
