{
  "_comment": "Copy to settings.local.json and customize. Comments use // prefix for documentation.",

  "permissions": {
    "allow": [
      "// === GIT READ OPERATIONS (safe, read-only) ===",
      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(git rev-parse:*)",
      "Bash(git remote:*)",
      "Bash(git config --get:*)",
      "Bash(git config --list:*)",
      "Bash(git ls-files:*)",
      "Bash(git check-ignore:*)",
      "Bash(git describe:*)",
      "Bash(git tag:*)",

      "// === GIT WRITE OPERATIONS (safe, local only) ===",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git stash:*)",
      "Bash(git checkout:*)",
      "Bash(git switch:*)",
      "Bash(git restore:*)",
      "Bash(git merge:*)",
      "Bash(git rebase:*)",
      "Bash(git cherry-pick:*)",
      "Bash(git reset --soft:*)",
      "Bash(git reset HEAD:*)",

      "// === GIT REMOTE (non-destructive) ===",
      "Bash(git fetch:*)",
      "Bash(git pull:*)",
      "Bash(git push origin:*)",
      "Bash(git push -u origin:*)",

      "// === GITHUB CLI ===",
      "Bash(gh pr view:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr status:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr merge:*)",
      "Bash(gh issue view:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue create:*)",
      "Bash(gh repo view:*)",
      "Bash(gh auth status:*)",
      "Bash(gh api:*)",

      "// === PYTHON & ENVIRONMENT ===",
      "Bash(python --version:*)",
      "Bash(python3 --version:*)",
      "Bash(python -c:*)",
      "Bash(python3 -c:*)",
      "Bash(pip list:*)",
      "Bash(pip show:*)",
      "Bash(pip check:*)",
      "Bash(pip-audit:*)",
      "Bash(safety check:*)",
      "Bash(pip-licenses:*)",
      "Bash(which:*)",
      "Bash(whereis:*)",
      "Bash(env:*)",
      "Bash(printenv:*)",

      "// === CONDA/MAMBA ENVIRONMENT ===",
      "Bash(conda info:*)",
      "Bash(conda list:*)",
      "Bash(conda activate:*)",
      "Bash(conda deactivate:*)",
      "Bash(conda env list:*)",
      "Bash(mamba info:*)",
      "Bash(mamba list:*)",
      "Bash(mamba env list:*)",

      "// === CODE QUALITY TOOLS (Python) ===",
      "Bash(pytest:*)",
      "Bash(python -m pytest:*)",
      "Bash(ruff:*)",
      "Bash(ruff check:*)",
      "Bash(ruff format:*)",
      "Bash(mypy:*)",
      "Bash(pyright:*)",
      "Bash(black:*)",
      "Bash(isort:*)",
      "Bash(flake8:*)",
      "Bash(pylint:*)",
      "Bash(bandit:*)",

      "// === FILE INSPECTION (read-only) ===",
      "Bash(ls:*)",
      "Bash(tree:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(wc:*)",
      "Bash(file:*)",
      "Bash(stat:*)",
      "Bash(du:*)",
      "Bash(df:*)",
      "Bash(find:*)",
      "Bash(cat:*)",
      "Bash(grep:*)",
      "Bash(pwd:*)",
      "Bash(echo:*)",

      "// === SYSTEM INSPECTION (read-only) ===",
      "Bash(ps:*)",
      "Bash(pgrep:*)",
      "Bash(free:*)",
      "Bash(uptime:*)",
      "Bash(uname:*)",
      "Bash(hostname:*)",
      "Bash(date:*)",
      "Bash(id:*)",
      "Bash(whoami:*)",

      "// === BUILD TOOLS ===",
      "Bash(make:*)",
      "Bash(cmake:*)",
      "Bash(gradle:*)",
      "Bash(mvn:*)",

      "// === CONTAINERS (read-only) ===",
      "Bash(docker ps:*)",
      "Bash(docker images:*)",
      "Bash(docker logs:*)",
      "Bash(docker inspect:*)",
      "Bash(docker-compose ps:*)",
      "Bash(docker-compose logs:*)",

      "// === PROCESS MANAGEMENT (safe) ===",
      "Bash(timeout:*)",
      "Bash(time:*)",
      "Bash(nohup:*)",
      "Bash(wait:*)",
      "Bash(jobs:*)",

      "// === DATABASE QUERIES ===",
      "Bash(sqlite3:*)",
      "Bash(psql -c:*)",

      "// === MULTI-AGENT ===",
      "Task(*)",

      "// === WEB ACCESS ===",
      "WebSearch",
      "WebFetch"
    ],
    "deny": [
      "// === CATASTROPHIC OPERATIONS (hard block, no prompt) ===",
      "// NOTE: Other rm/rm -rf commands NOT listed here will PROMPT for approval",
      "Bash(rm -rf /)",
      "Bash(rm -rf /*)",
      "Bash(rm -rf /mnt)",
      "Bash(rm -rf /home)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf $HOME)",

      "// === GIT DESTRUCTIVE OPERATIONS ===",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Bash(git reset --hard:*)",
      "Bash(git clean -fd:*)",

      "// === DISK/SYSTEM DESTRUCTION ===",
      "Bash(> /dev/sda)",
      "Bash(> /dev/sdb)",
      "Bash(> /dev/nvme)",
      "Bash(mkfs:*)",
      "Bash(dd if=:*)",
      "Bash(fdisk:*)",
      "Bash(parted:*)",

      "// === PRIVILEGE ESCALATION ===",
      "Bash(sudo:*)",
      "Bash(su:*)",
      "Bash(chmod 777:*)",
      "Bash(chown root:*)",

      "// === CONTAINER DESTRUCTIVE ===",
      "Bash(docker rm -f:*)",
      "Bash(docker system prune:*)",
      "Bash(docker volume rm:*)",

      "// === PROTECTED PATHS ===",
      "Write(.git/**)",
      "Edit(.git/**)",
      "Write(.venv/**)",
      "Write(__pycache__/**)",

      "// === PACKAGE MANAGEMENT (require explicit approval) ===",
      "Bash(pip install:*)",
      "Bash(conda install:*)",
      "Bash(mamba install:*)"
    ]
  },

  "hooks": {
    "// DOCUMENTATION": "See https://docs.anthropic.com/en/docs/claude-code/hooks",

    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/format-code.sh"
          }
        ]
      }
    ],

    "PreToolUse": [
      {
        "matcher": "Write|Edit|Bash",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR\"/.claude/hooks/security-check.sh"
          }
        ]
      }
    ]
  },

  "multiAgent": {
    "enabled": true,
    "maxParallelAgents": 3,
    "agentTimeoutSeconds": 3600,
    "requireHumanApproval": true,
    "allowedAgentScopes": [
      "src/**",
      "tests/**",
      "scripts/**"
    ],
    "forbiddenAgentScopes": [
      "docs/01_progress.md",
      "docs/00_MASTER_INDEX.md",
      ".git/**",
      ".claude/**"
    ]
  },

  "testing": {
    "enabled": true,
    "autoRunAfterChanges": true,
    "testTimeoutSeconds": 300,
    "blockDoneOnFailure": true
  },

  "linting": {
    "enabled": true,
    "autoFixOnSave": false,
    "blockCommitOnError": true
  },

  "verification": {
    "enabled": true,
    "beforeDone": true,
    "beforeCommit": true,
    "beforePR": true
  }
}
